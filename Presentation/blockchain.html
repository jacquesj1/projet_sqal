<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tra√ßabilit√© (Blockchain) - Syst√®me Gaveurs V3.0</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-brand">
            <span class="logo">ü¶Ü</span>
            <span class="brand-text">Syst√®me Gaveurs V3.0</span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="boucle-fermee.html">Pipeline end-to-end</a></li>
            <li><a href="sqal.html">SQAL (IoT)</a></li>
            <li><a href="blockchain.html" class="active">Blockchain</a></li>
            <li><a href="commercial.html">KPIs & D√©ploiement</a></li>
        </ul>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
        <h1>Blockchain & tra√ßabilit√©</h1>
        <p>Stockage d'une preuve d'int√©grit√© (hash) et v√©rification via API.</p>
    </header>

    <!-- Pourquoi la Blockchain -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">Objectif</h2>
            <p class="section-intro">
                Fournir une preuve v√©rifiable de l'int√©grit√© des √©v√©nements (lot, qualit√©, produit) et permettre un contr√¥le via hash.
            </p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>Immuabilit√©</h3>
                    <p>Une fois enregistr√©e, une donn√©e ne peut plus √™tre modifi√©e ni supprim√©e. Chaque bloc est li√© au pr√©c√©dent par une empreinte cryptographique.</p>
                    <ul>
                        <li>Hash SHA-256 pour chaque transaction</li>
                        <li>Consensus multi-n≈ìuds requis</li>
                        <li>Historique complet auditable</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>R√©seau permissionn√©</h3>
                    <p>Aucun point unique de d√©faillance. Les donn√©es sont r√©pliqu√©es sur plusieurs n≈ìuds appartenant √† diff√©rents acteurs.</p>
                    <ul>
                        <li>N≈ìud Euralis (producteur)</li>
                        <li>N≈ìud abattoir certifi√©</li>
                        <li>N≈ìud distributeur partenaire</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>Confidentialit√©</h3>
                    <p>Avec Hyperledger Fabric, les donn√©es sensibles restent priv√©es entre parties autoris√©es, tout en garantissant la v√©rifiabilit√©.</p>
                    <ul>
                        <li>Canaux priv√©s entre partenaires</li>
                        <li>Donn√©es publiques pour consommateurs</li>
                        <li>Conformit√© RGPD respect√©e</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture Hyperledger -->
    <section class="section" style="background: var(--white);">
        <div class="container">
            <h2 class="section-title">Architecture Hyperledger Fabric</h2>
            <p class="section-intro">
                Nous utilisons <strong>Hyperledger Fabric</strong>, la blockchain entreprise de la Linux Foundation,
                sp√©cialement con√ßue pour les cas d'usage B2B avec permissions et confidentialit√©.
            </p>

            <div class="blockchain-architecture">
                <div class="arch-layer">
                    <h4>üì± Applications</h4>
                    <div class="arch-items">
                        <span>App Gaveur</span>
                        <span>Dashboard Euralis</span>
                        <span>App Consommateur</span>
                    </div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer">
                    <h4>üîå API Gateway</h4>
                    <div class="arch-items">
                        <span>FastAPI Backend</span>
                        <span>Fabric SDK Node.js</span>
                    </div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer highlight-layer">
                    <h4>‚õìÔ∏è Hyperledger Fabric Network</h4>
                    <div class="arch-items">
                        <span>Orderer (Raft)</span>
                        <span>Peer Euralis</span>
                        <span>Peer Abattoir</span>
                        <span>Peer Distributeur</span>
                    </div>
                </div>
                <div class="arch-arrow">‚Üì</div>
                <div class="arch-layer">
                    <h4>üìú Smart Contracts (Chaincode)</h4>
                    <div class="arch-items">
                        <span>LotContract</span>
                        <span>QualityContract</span>
                        <span>TraceContract</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Donn√©es Enregistr√©es -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">Donn√©es Enregistr√©es sur la Blockchain</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="date">BLOC 1</div>
                    <h4>ü•ö Origine du Lot</h4>
                    <p>Enregistrement initial lors de la cr√©ation du lot de canards.</p>
                    <ul>
                        <li>ID unique du lot (hash)</li>
                        <li>Souche g√©n√©tique (Mulard Grimaud, etc.)</li>
                        <li>Date de naissance</li>
                        <li>Couvoir d'origine certifi√©</li>
                        <li>Effectif initial</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <div class="date">BLOC 2</div>
                    <h4>üè† √âlevage</h4>
                    <p>Conditions d'√©levage avant le gavage (phase pr√©gavage).</p>
                    <ul>
                        <li>Site d'√©levage (g√©olocalisation)</li>
                        <li>Dur√©e phase pr√©gavage</li>
                        <li>Alimentation utilis√©e</li>
                        <li>Certifications (Label Rouge, IGP...)</li>
                        <li>Contr√¥les v√©t√©rinaires</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <div class="date">BLOC 3</div>
                    <h4>üåΩ Gavage</h4>
                    <p>Historique complet des 12-14 jours de gavage.</p>
                    <ul>
                        <li>Gaveur identifi√© (ID anonymis√©)</li>
                        <li>Courbe de gavage appliqu√©e</li>
                        <li>Doses journali√®res (matin/soir)</li>
                        <li>Mortalit√© quotidienne</li>
                        <li>Conditions environnementales</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <div class="date">BLOC 4</div>
                    <h4>üî¨ Contr√¥le Qualit√© SQAL</h4>
                    <p>R√©sultats objectifs des capteurs IoT.</p>
                    <ul>
                        <li>Grade attribu√© (A+ √† D)</li>
                        <li>Score de confiance ML</li>
                        <li>Volume estim√© (ToF)</li>
                        <li>Teneur lipidique (spectral)</li>
                        <li>Horodatage pr√©cis</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <div class="date">BLOC 5</div>
                    <h4>üì¶ Distribution</h4>
                    <p>Tra√ßabilit√© logistique jusqu'au point de vente.</p>
                    <ul>
                        <li>Date d'abattage</li>
                        <li>Num√©ro de lot commercial</li>
                        <li>Cha√Æne du froid respect√©e</li>
                        <li>Distributeur destinataire</li>
                        <li>QR code g√©n√©r√©</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- QR Code et Consommateur -->
    <section class="section" style="background: var(--white);">
        <div class="container">
            <h2 class="section-title">Le QR Code : Pont vers le Consommateur</h2>

            <div class="qr-demo">
                <div class="qr-left">
                    <div class="qr-code-visual">
                        <div class="qr-placeholder">
                            <span>üì±</span>
                            <p>QR Code Unique</p>
                        </div>
                    </div>
                    <p class="qr-caption">Chaque produit porte un QR code unique li√© √† son historique blockchain</p>
                </div>
                <div class="qr-right">
                    <h3>Exp√©rience Consommateur</h3>
                    <div class="qr-steps">
                        <div class="qr-step">
                            <span class="step-num">1</span>
                            <div>
                                <strong>Scan</strong>
                                <p>Le consommateur scanne le QR code avec son smartphone</p>
                            </div>
                        </div>
                        <div class="qr-step">
                            <span class="step-num">2</span>
                            <div>
                                <strong>D√©couverte</strong>
                                <p>Page web avec l'histoire compl√®te du produit : origine, gaveur, grade qualit√©</p>
                            </div>
                        </div>
                        <div class="qr-step">
                            <span class="step-num">3</span>
                            <div>
                                <strong>V√©rification</strong>
                                <p>Possibilit√© de v√©rifier l'empreinte blockchain (hash)</p>
                            </div>
                        </div>
                        <div class="qr-step">
                            <span class="step-num">4</span>
                            <div>
                                <strong>Feedback</strong>
                                <p>Notation de l'exp√©rience (1-5 √©toiles) ‚Üí alimente la boucle ferm√©e IA</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Smart Contracts -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">Smart Contracts (Chaincode)</h2>
            <p class="section-intro">
                Les smart contracts automatisent la logique m√©tier et garantissent l'application des r√®gles sans intervention humaine.
            </p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üìã LotContract</h3>
                    <p>Gestion du cycle de vie des lots de canards.</p>
                    <pre class="code-snippet">
createLot(origin, strain, count)
updatePhase(lotId, newPhase)
recordMortality(lotId, count)
closeLot(lotId, finalCount)</pre>
                </div>
                <div class="feature-card">
                    <h3>‚≠ê QualityContract</h3>
                    <p>Enregistrement des √©valuations qualit√© SQAL.</p>
                    <pre class="code-snippet">
recordGrade(lotId, grade, confidence)
validateSensorData(deviceId, data)
getQualityHistory(lotId)
computeAverageGrade(timeRange)</pre>
                </div>
                <div class="feature-card">
                    <h3>üîç TraceContract</h3>
                    <p>G√©n√©ration et v√©rification de la tra√ßabilit√©.</p>
                    <pre class="code-snippet">
generateQRCode(lotId, productId)
verifyTrace(qrHash)
getFullHistory(productId)
recordConsumerFeedback(qrHash, rating)</pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Avantages Comp√©titifs -->
    <section class="section stats-section">
        <div class="container">
            <h2 class="section-title">Avantages Comp√©titifs</h2>

            <div class="stats-grid">
                <div class="big-stat">
                    <span class="big-number">100%</span>
                    <span class="big-label">Tra√ßabilit√©</span>
                    <p>Du couvoir √† l'assiette</p>
                </div>
                <div class="big-stat">
                    <span class="big-number">< 3s</span>
                    <span class="big-label">V√©rification</span>
                    <p>Temps de validation blockchain</p>
                </div>
                <div class="big-stat">
                    <span class="big-number">0</span>
                    <span class="big-label">Falsification</span>
                    <p>Donn√©es immuables et sign√©es</p>
                </div>
                <div class="big-stat">
                    <span class="big-number">‚àû</span>
                    <span class="big-label">R√©tention</span>
                    <p>Historique permanent</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Conformit√© et Certifications -->
    <section class="section" style="background: var(--white);">
        <div class="container">
            <h2 class="section-title">Conformit√© & Certifications</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üá™üá∫ RGPD</h3>
                    <p>Conformit√© totale avec la r√©glementation europ√©enne sur les donn√©es personnelles.</p>
                    <ul>
                        <li>Donn√©es gaveurs pseudonymis√©es</li>
                        <li>Consentement consommateur explicite</li>
                        <li>Droit √† l'oubli respect√© (off-chain)</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üè∑Ô∏è IGP Sud-Ouest</h3>
                    <p>Compatible avec les exigences de l'Indication G√©ographique Prot√©g√©e.</p>
                    <ul>
                        <li>Origine g√©ographique v√©rifiable</li>
                        <li>Cahier des charges trac√©</li>
                        <li>Audits facilit√©s</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üî¥ Label Rouge</h3>
                    <p>Int√©gration des crit√®res Label Rouge dans la cha√Æne de tra√ßabilit√©.</p>
                    <ul>
                        <li>Dur√©e d'√©levage minimale</li>
                        <li>Alimentation contr√¥l√©e</li>
                        <li>Conditions bien-√™tre animal</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="section cta-section">
        <div class="container">
            <h2>D√©couvrez le ROI et Notre Offre</h2>
            <p>Investissement, retour sur investissement et mod√®les de d√©ploiement.</p>
            <div class="cta-buttons">
                <a href="commercial.html" class="cta-button">Voir l'Offre Commerciale ‚Üí</a>
                <a href="index.html" class="cta-button secondary">Retour √† l'Accueil</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo">ü¶Ü</span>
                    <span>Syst√®me Gaveurs V3.0</span>
                </div>
                <p>IA + IoT + Blockchain pour l'excellence du foie gras fran√ßais</p>
                <p class="copyright">¬© 2024 - Projet Euralis Gaveurs</p>
            </div>
        </div>
    </footer>

    <style>
        /* Blockchain Architecture */
        .blockchain-architecture {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
            padding: 40px;
            margin-top: 30px;
        }

        .arch-layer {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .arch-layer h4 {
            margin-bottom: 15px;
            color: var(--primary);
        }

        .arch-layer.highlight-layer {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .arch-layer.highlight-layer h4 {
            color: white;
        }

        .arch-items {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .arch-items span {
            background: rgba(184, 134, 11, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .highlight-layer .arch-items span {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .arch-arrow {
            text-align: center;
            font-size: 2rem;
            color: var(--primary);
            margin: 10px 0;
        }

        /* QR Demo */
        .qr-demo {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
            align-items: center;
            margin-top: 30px;
        }

        .qr-code-visual {
            background: white;
            border: 3px dashed var(--primary);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
        }

        .qr-placeholder span {
            font-size: 4rem;
            display: block;
            margin-bottom: 10px;
        }

        .qr-caption {
            text-align: center;
            margin-top: 15px;
            color: var(--gray);
            font-style: italic;
        }

        .qr-steps {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .qr-step {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .step-num {
            background: var(--primary);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .qr-step strong {
            display: block;
            margin-bottom: 5px;
            color: var(--dark);
        }

        .qr-step p {
            margin: 0;
            color: var(--gray);
        }

        /* Code Snippet */
        .code-snippet {
            background: #1e1e1e;
            color: #9cdcfe;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            margin-top: 15px;
        }

        @media (max-width: 768px) {
            .qr-demo {
                grid-template-columns: 1fr;
            }

            .qr-left {
                order: -1;
            }
        }
    </style>
</body>
</html>
