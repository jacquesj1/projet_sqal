================================================================================
ARCHITECTURE UNIFIÃ‰E DES SIMULATEURS - SystÃ¨me Gaveurs V3.0
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AVANT (Structure IsolÃ©e)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Simulator/                      simulator-sqal/
    â”œâ”€â”€ gavage_data_simulator.py    â”œâ”€â”€ esp32_simulator.py
    â””â”€â”€ README.md                   â”œâ”€â”€ i2c_sensors_simulator.py
                                    â””â”€â”€ Dockerfile (non intÃ©grÃ©)
         â†“ DÃ©marrage manuel              â†“ DÃ©marrage manuel
         â†“ 5 terminaux                   â†“ Configuration manuelle
         â†“ Variables env                 â†“ Pas dans docker-compose


                            â†“ TRANSFORMATION â†“


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APRÃˆS (Structure UnifiÃ©e)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                            simulators/
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚                       â”‚
    gavage/                 sqal/                   Config
    â”‚                       â”‚                       â”‚
    â”œâ”€â”€ main.py â”€â”€â”€â”€â”      â”œâ”€â”€ main.py â”€â”€â”€â”€â”      â”œâ”€â”€ Dockerfile.gavage
    â””â”€â”€ __init__.py â”‚      â””â”€â”€ __init__.py â”‚      â”œâ”€â”€ Dockerfile.sqal
                    â”‚                      â”‚      â”œâ”€â”€ requirements.txt
                    â”‚                      â”‚      â”œâ”€â”€ docker-compose.yml
                    â†“                      â†“      â””â”€â”€ .gitignore

              Simulator/            simulator-sqal/
              gavage_data_          esp32_
              simulator.py          simulator.py
              (CODE ORIGINAL)       (CODE ORIGINAL)


================================================================================
DOCKERISATION
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dockerfile.gavage (Simulateur MÃ©tier)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  FROM python:3.11-slim                                                  â”‚
â”‚  WORKDIR /app                                                           â”‚
â”‚  COPY requirements.txt .                                                â”‚
â”‚  RUN pip install pandas numpy                                           â”‚
â”‚  COPY gavage/ /app/gavage/                                              â”‚
â”‚  COPY ../Simulator/ /app/simulator_original/                            â”‚
â”‚                                                                         â”‚
â”‚  CMD ["python", "main.py", "--output", "/data/output.csv"]             â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ SORTIE :                                                      â”‚    â”‚
â”‚  â”‚ â€¢ CSV 174 colonnes format Euralis                            â”‚    â”‚
â”‚  â”‚ â€¢ Lots : 100 (dÃ©faut, configurable)                          â”‚    â”‚
â”‚  â”‚ â€¢ Gaveurs : 65 (dÃ©faut, configurable)                        â”‚    â”‚
â”‚  â”‚ â€¢ Volume : /data (montÃ© sur host)                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dockerfile.sqal (Simulateur IoT)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  FROM python:3.11-slim                                                  â”‚
â”‚  WORKDIR /app                                                           â”‚
â”‚  COPY requirements.txt .                                                â”‚
â”‚  RUN pip install websockets pyyaml numpy                                â”‚
â”‚  COPY sqal/ /app/sqal/                                                  â”‚
â”‚  COPY ../simulator-sqal/ /app/simulator_original/                       â”‚
â”‚                                                                         â”‚
â”‚  CMD ["python", "main.py", "--backend-url", "ws://backend:8000"]       â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ SORTIE :                                                      â”‚    â”‚
â”‚  â”‚ â€¢ WebSocket stream continu                                   â”‚    â”‚
â”‚  â”‚ â€¢ VL53L8CH : Matrice ToF 8x8                                 â”‚    â”‚
â”‚  â”‚ â€¢ AS7341 : Spectral 10 canaux (415nm-NIR)                    â”‚    â”‚
â”‚  â”‚ â€¢ Intervalle : 30s (configurable)                            â”‚    â”‚
â”‚  â”‚ â€¢ Reconnexion automatique si backend offline                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
INTÃ‰GRATION DOCKER-COMPOSE
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  docker-compose.yml                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  services:                                                             â”‚
â”‚    timescaledb:        [Port 5432]  â”€â”€â”                               â”‚
â”‚    backend:            [Port 8000]  â”€â”€â”¼â”€â”€â”€ RÃ©seau: gaveurs_network    â”‚
â”‚    frontend-euralis:   [Port 3000]  â”€â”€â”¤                               â”‚
â”‚    frontend-gaveurs:   [Port 3001]  â”€â”€â”¤                               â”‚
â”‚    frontend-sqal:      [Port 5173]  â”€â”€â”¤                               â”‚
â”‚                                       â”‚                               â”‚
â”‚    simulator-gavage:   [profil: simulators]                            â”‚
â”‚    â”‚ build: Dockerfile.gavage                                         â”‚
â”‚    â”‚ restart: "no"                    â”‚                               â”‚
â”‚    â”‚ volumes: ./data:/data            â”‚                               â”‚
â”‚    â”‚ command: --nb-lots 100 --output /data/output.csv                 â”‚
â”‚    â”‚                                                                   â”‚
â”‚    simulator-sqal:     [toujours actif]                               â”‚
â”‚    â”‚ build: Dockerfile.sqal           â”‚                               â”‚
â”‚    â”‚ restart: unless-stopped          â”‚                               â”‚
â”‚    â”‚ depends_on: backend              â”‚                               â”‚
â”‚    â”‚ command: --device ESP32_DOCKER_01 --interval 30                  â”‚
â”‚    â”‚                                                                   â”‚
â”‚    simulator-sqal-ligne-b: [profil: simulators-extra]                 â”‚
â”‚      build: Dockerfile.sqal          â”‚                               â”‚
â”‚      restart: unless-stopped         â”‚                               â”‚
â”‚      command: --device ESP32_DOCKER_02 --interval 45                  â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
FLUX DE DONNÃ‰ES
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Simulateur Gavage â†’ Backend â†’ Database                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Simulateur Gavage (Docker)
         â”‚
         â”‚ GÃ©nÃ¨re CSV
         â†“
    simulators/data/simulated_gavage_data.csv
         â”‚
         â”‚ Import manuel via script
         â†“
    Backend API (FastAPI)
         â”‚
         â”‚ INSERT SQL
         â†“
    TimescaleDB
         â”œâ”€â”€ lots_gavage (174 colonnes)
         â”œâ”€â”€ doses_journalieres (hypertable)
         â”œâ”€â”€ gaveurs
         â””â”€â”€ sites_euralis


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Simulateur SQAL â†’ Backend â†’ Database â†’ Frontend                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Simulateur SQAL (Docker)
         â”‚
         â”‚ WebSocket /ws/sensors/
         â”‚ Intervalle: 30s
         â”‚
         â†“
    Backend API (FastAPI)
         â”‚
         â”‚ Traitement JSON
         â”‚ {
         â”‚   device_id: "ESP32_DOCKER_01",
         â”‚   sensor_data: {
         â”‚     vl53l8ch: { matrix_8x8: [...] },
         â”‚     as7341: { spectral_channels: {...} }
         â”‚   },
         â”‚   foie_gras_metrics: { quality_grade: "A", ... }
         â”‚ }
         â”‚
         â†“
    TimescaleDB
         â””â”€â”€ sqal_sensor_samples (hypertable)
         â”‚
         â”‚ WebSocket /ws/realtime/
         â”‚ Broadcast temps rÃ©el
         â”‚
         â†“
    Frontend SQAL (React)
         â””â”€â”€ Dashboard temps rÃ©el
             â”œâ”€â”€ Matrices ToF 8x8 (heatmap)
             â”œâ”€â”€ Spectral 10 canaux (graph)
             â””â”€â”€ Quality Grade (A+, A, B, C, D)


================================================================================
BOUCLE DE FEEDBACK FERMÃ‰E (Algorithme #2 - CÅ’UR DU SYSTÃˆME)
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚   1. GAVEUR                                                              â”‚
â”‚      â†“ Saisie donnÃ©es gavage (doses, ITM, durÃ©e)                        â”‚
â”‚      â”‚                                                                   â”‚
â”‚   2. EURALIS                                                             â”‚
â”‚      â†“ AgrÃ©gation multi-sites, calcul performances                      â”‚
â”‚      â”‚                                                                   â”‚
â”‚   3. SQAL QUALITY                                                        â”‚
â”‚      â†“ ContrÃ´le qualitÃ© IoT (Simulateur SQAL â†’ WebSocket)              â”‚
â”‚      â”‚                                                                   â”‚
â”‚   4. QR CODE GENERATION                                                  â”‚
â”‚      â†“ Code traÃ§abilitÃ© blockchain                                      â”‚
â”‚      â”‚                                                                   â”‚
â”‚   5. CONSOMMATEUR                                                        â”‚
â”‚      â†“ Scan QR + feedback satisfaction (1-5 â­)                         â”‚
â”‚      â”‚                                                                   â”‚
â”‚   6. AI OPTIMIZER (Random Forest)                                        â”‚
â”‚      â†“ Analyse corrÃ©lations params â†” satisfaction                       â”‚
â”‚      â”‚ â€¢ ITM â†” satisfaction: +0.82                                      â”‚
â”‚      â”‚ â€¢ Sigma â†” satisfaction: -0.65                                    â”‚
â”‚      â”‚ â€¢ MortalitÃ© â†” satisfaction: -0.71                                â”‚
â”‚      â”‚                                                                   â”‚
â”‚   7. NOUVELLE COURBE OPTIMISÃ‰E                                           â”‚
â”‚      â†“ GÃ©nÃ©ration courbe amÃ©liorÃ©e (doses ajustÃ©es)                     â”‚
â”‚      â”‚ â€¢ Satisfaction attendue: 4.5/5 â­                                â”‚
â”‚      â”‚ â€¢ Confiance: 92%                                                 â”‚
â”‚      â”‚                                                                   â”‚
â”‚   8. BACK TO GAVEUR                                                      â”‚
â”‚      â†“ Application nouvelle courbe                                      â”‚
â”‚      â”‚                                                                   â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                                                   â”‚                     â”‚
â”‚                           ğŸ”„ CYCLE REPEATS        â”‚                     â”‚
â”‚                              (AmÃ©lioration        â”‚                     â”‚
â”‚                               Continue)           â”‚                     â”‚
â”‚                                                   â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
PROFILS DOCKER-COMPOSE
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Profil (dÃ©faut)                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Commande:  docker-compose up -d                                         â”‚
â”‚                                                                          â”‚
â”‚  Services DÃ©marrÃ©s:                                                      â”‚
â”‚    âœ… timescaledb                                                         â”‚
â”‚    âœ… backend                                                             â”‚
â”‚    âœ… frontend-euralis                                                    â”‚
â”‚    âœ… frontend-gaveurs                                                    â”‚
â”‚    âœ… frontend-sqal                                                       â”‚
â”‚    âœ… simulator-sqal (Ligne A)                                            â”‚
â”‚                                                                          â”‚
â”‚    âŒ simulator-gavage (profil: simulators)                               â”‚
â”‚    âŒ simulator-sqal-ligne-b (profil: simulators-extra)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Profil: simulators                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Commande:  docker-compose --profile simulators up -d                    â”‚
â”‚                                                                          â”‚
â”‚  Services SupplÃ©mentaires:                                               â”‚
â”‚    âœ… simulator-gavage                                                    â”‚
â”‚       â€¢ GÃ©nÃ¨re CSV 100 lots, 65 gaveurs                                  â”‚
â”‚       â€¢ Sortie: simulators/data/simulated_gavage_data.csv                â”‚
â”‚       â€¢ Restart: "no" (one-shot)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Profil: simulators-extra                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Commande:  docker-compose --profile simulators-extra up -d              â”‚
â”‚                                                                          â”‚
â”‚  Services SupplÃ©mentaires:                                               â”‚
â”‚    âœ… simulator-sqal-ligne-b                                              â”‚
â”‚       â€¢ Device: ESP32_DOCKER_02                                          â”‚
â”‚       â€¢ Location: "Ligne B - Docker"                                     â”‚
â”‚       â€¢ Intervalle: 45s                                                  â”‚
â”‚       â€¢ Restart: unless-stopped                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ALGORITHMES ML - Ã‰TAT D'IMPLÃ‰MENTATION
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RÃ‰SULTAT : 6/6 ALGORITHMES CODÃ‰S ET FONCTIONNELS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  #1  RÃ©gression Symbolique (PySR)               âœ… symbolic_regression.py
      â€¢ DÃ©couverte formules optimales gavage
      â€¢ Features: doses, poids, tempÃ©rature, humiditÃ©
      â€¢ Sortie: Ã‰quations interprÃ©tables (ex: ITM = 0.5*dose + ...)
      â€¢ Stockage: ml_symbolic_models

  #2  Feedback Optimizer (Random Forest) â­      âœ… feedback_optimizer.py
      â€¢ CÅ’UR DU SYSTÃˆME - Boucle fermÃ©e
      â€¢ Analyse corrÃ©lations production â†” satisfaction
      â€¢ GÃ©nÃ©ration courbes optimisÃ©es
      â€¢ Stockage: consumer_feedbacks, ml_feedback_models

  #3  Production Forecasting (Prophet)           âœ… production_forecasting.py
      â€¢ PrÃ©visions production 7/30/90 jours
      â€¢ Par site (LL, LS, MT)
      â€¢ SaisonnalitÃ© + tendances
      â€¢ Stockage: euralis_production_forecasts

  #4  Gaveur Clustering (K-Means)                âœ… gaveur_clustering.py
      â€¢ Segmentation gaveurs en 5 groupes
      â€¢ Labels: Excellent, TrÃ¨s bon, Bon, Ã€ amÃ©liorer, Critique
      â€¢ Features: ITM, Sigma, mortalitÃ©, rÃ©gularitÃ©
      â€¢ Stockage: euralis_gaveur_clusters

  #5  Anomaly Detection (Isolation Forest)       âœ… anomaly_detection.py
      â€¢ DÃ©tection lots/gaveurs/sites atypiques
      â€¢ 3 niveaux: Lot (10%), Gaveur (15%), Site (20%)
      â€¢ Scores d'anomalie + classement
      â€¢ Stockage: euralis_anomalies_*

  #6  Abattage Optimization (Hungarian)          âœ… abattage_optimization.py
      â€¢ Allocation lots â†’ abattoirs (coÃ»t min)
      â€¢ Contraintes: distance, capacitÃ©, urgence
      â€¢ Fonction coÃ»t: transport + urgence + surcharge
      â€¢ Stockage: euralis_abattage_planning


================================================================================
DOCUMENTATION CRÃ‰Ã‰E
================================================================================

  Simulateurs (1250+ lignes)
    â”œâ”€â”€ simulators/README.md                   (300+ lignes)
    â”œâ”€â”€ simulators/COMMANDS_REFERENCE.md       (400+ lignes)
    â”œâ”€â”€ SIMULATORS_QUICKSTART.md               (200+ lignes)
    â””â”€â”€ INTEGRATION_SIMULATORS_SUMMARY.md      (350+ lignes)

  Algorithmes ML (600+ lignes)
    â””â”€â”€ ML_ALGORITHMS_STATUS.md                (600+ lignes)

  RÃ©capitulatif (900+ lignes)
    â”œâ”€â”€ REPONSE_COMPLETE.md                    (500+ lignes)
    â””â”€â”€ TRAVAUX_REALISES.md                    (400+ lignes)

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TOTAL : 2750+ LIGNES DE DOCUMENTATION


================================================================================
COMMANDES ESSENTIELLES
================================================================================

  Build
  â”€â”€â”€â”€â”€
    docker-compose build

  DÃ©marrage Standard
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    docker-compose up -d

  DÃ©marrage + Gavage
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    docker-compose --profile simulators up -d

  DÃ©marrage Complet (tout)
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    docker-compose --profile simulators --profile simulators-extra up -d

  Logs Temps RÃ©el
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    docker-compose logs -f simulator-sqal

  VÃ©rification
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    docker-compose ps
    ls -lh simulators/data/

  ArrÃªt
  â”€â”€â”€â”€â”€
    docker-compose down


================================================================================
VERSION : 3.0.0
DATE    : 22 DÃ©cembre 2024
STATUT  : âœ… TOUTES LES DEMANDES 100% COMPLÃˆTES
================================================================================
